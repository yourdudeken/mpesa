{
    "info": {
        "name": "M-Pesa API Gateway",
        "description": "Complete collection of M-Pesa API Gateway endpoints",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "auth": {
        "type": "bearer",
        "bearer": [
            {
                "key": "token",
                "value": "dev_api_key_12345",
                "type": "string"
            }
        ]
    },
    "variable": [
        {
            "key": "base_url",
            "value": "http://localhost:8000",
            "type": "string"
        }
    ],
    "item": [
        {
            "name": "Health & Documentation",
            "item": [
                {
                    "name": "Health Check",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/v1/health",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "health"
                            ]
                        }
                    }
                },
                {
                    "name": "API Documentation",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/v1/docs",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "docs"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "STK Push",
            "item": [
                {
                    "name": "Initiate STK Push",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"phone_number\": \"254712345678\",\n  \"amount\": 100,\n  \"account_reference\": \"INV001\",\n  \"transaction_desc\": \"Payment for invoice\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/v1/stkpush",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "stkpush"
                            ]
                        }
                    }
                },
                {
                    "name": "Query STK Push Status",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"checkout_request_id\": \"ws_CO_123456789\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/v1/stkpush/query",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "stkpush",
                                "query"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "C2B",
            "item": [
                {
                    "name": "Register C2B URLs",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"short_code\": \"174379\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/v1/c2b/register",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "c2b",
                                "register"
                            ]
                        }
                    }
                },
                {
                    "name": "Simulate C2B",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"phone_number\": \"254712345678\",\n  \"amount\": 100,\n  \"bill_ref_number\": \"BILL001\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/v1/c2b/simulate",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "c2b",
                                "simulate"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "B2C",
            "item": [
                {
                    "name": "B2C Payment",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"phone_number\": \"254712345678\",\n  \"amount\": 500,\n  \"remarks\": \"Salary payment\",\n  \"occasion\": \"Monthly salary\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/v1/b2c/payment",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "b2c",
                                "payment"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "B2B",
            "item": [
                {
                    "name": "B2B Payment",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"receiver_shortcode\": \"600000\",\n  \"amount\": 1000,\n  \"remarks\": \"Payment for services\",\n  \"account_reference\": \"ACC001\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/v1/b2b/payment",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "b2b",
                                "payment"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Account",
            "item": [
                {
                    "name": "Account Balance",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"remarks\": \"Balance inquiry\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/v1/account/balance",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "account",
                                "balance"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Transactions",
            "item": [
                {
                    "name": "Transaction Status",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"transaction_id\": \"OEI2AK4Q16\",\n  \"remarks\": \"Status check\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/v1/transaction/status",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "transaction",
                                "status"
                            ]
                        }
                    }
                },
                {
                    "name": "Transaction Reversal",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"transaction_id\": \"OEI2AK4Q16\",\n  \"amount\": 100,\n  \"remarks\": \"Reversal request\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/v1/transaction/reversal",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "transaction",
                                "reversal"
                            ]
                        }
                    }
                },
                {
                    "name": "Transaction History",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/v1/transactions?page=1&per_page=20",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "transactions"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "per_page",
                                    "value": "20"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Get Transaction",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/v1/transactions/:id",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "transactions",
                                ":id"
                            ],
                            "variable": [
                                {
                                    "key": "id",
                                    "value": "ws_CO_123456789"
                                }
                            ]
                        }
                    }
                }
            ]
        }
    ]
}